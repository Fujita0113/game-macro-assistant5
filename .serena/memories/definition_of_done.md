# Definition of Done

タスクが完了したと見なされるのは、以下の条件がすべて満たされた場合のみです：

## 必須要件

### 1. すべてのテストが成功すること
```bash
# 以下のコマンドが終了コード0で完了する必要があります
python -m pytest tests/ -v
```
- すべてのテストケースがパスする
- テスト実行中にエラーや失敗がないこと
- テストカバレッジが適切に維持されていること

### 2. Ruffのリンターとフォーマッターがエラーなくパスすること
```bash
# 以下のコマンドが終了コード0で完了する必要があります
ruff check .
ruff format . --check
```
- コードスタイルがプロジェクト基準に準拠している
- リンターエラーがすべて解決されている
- フォーマットが適用されている

## 品質保証

### コード品質
- 適切な型ヒントが使用されている
- docstringが必要な箇所に記載されている
- エラーハンドリングが適切に実装されている
- セキュリティベストプラクティスに従っている

### テスト品質
- 新機能に対する適切なテストが追加されている
- エッジケースが考慮されている
- モックやフィクスチャが適切に使用されている

### ドキュメント
- 必要に応じてREADME.mdやCLAUDE.mdが更新されている
- コードの変更が文書化されている

## 検証手順

1. **テスト実行**
   ```bash
   python -m pytest tests/ -v
   ```
   → すべてのテストが成功することを確認

2. **コード品質チェック**
   ```bash
   ruff check .
   ruff format . --check
   ```
   → エラーがないことを確認

3. **統合テスト（該当する場合）**
   ```bash
   python src/main.py --test-input
   ```
   → アプリケーションが正常に動作することを確認

## 注意事項

- コマンド実行中の表示（ドットなど）ではなく、**最終的な終了コード**のみが成功の証拠となります
- 一部のテストが skipped される場合は、理由が明確で適切である必要があります
- Windows環境での動作が前提となっているため、プラットフォーム固有の機能についても考慮が必要です